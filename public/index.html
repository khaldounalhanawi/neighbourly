<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neighbourly - Time Banking Community</title>
  
  <!-- Core scripts -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/@tonconnect/sdk@2.1.3/dist/tonconnect-sdk.min.js"></script>
  
  <!-- Styles -->
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <div class="header">
    <div class="badge-display">
      <img src="Neighbour_1.jpg" alt="Badge" class="badge-image">
    </div>
    <div class="header-text">
      <div class="user-name" id="userName">Alex Builder</div>
      <div class="greeting">Hey Neighbour!</div>
      <div class="next-badge">Next badge: Buddy</div>
      <div class="header-progress-bar">
        <div class="header-progress-fill" style="width: 50%;"></div>
      </div>
      <div class="progress-text">7/14</div>
    </div>
  </div>

  <div id="homeView" class="content">
    <div class="page-header home-header">
      <img src="main.png" alt="Virtual Community" class="header-bg">
      <div class="header-overlay">
        <img src="avatar.png" alt="Neighbourly Logo" class="header-logo">
        <h1>Welcome to Neighbourly</h1>
        <p>Where community meets blockchain</p>
      </div>
    </div>

    <h2 class="section-title">
      <span class="section-icon">ğŸ¤</span>
      Community's Awesomest this month
    </h2>

    <div class="leaderboard-item">
      <div class="rank" style="background: linear-gradient(135deg, #9333ea, #7e22ce); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">ğŸ’œ</div>
      <div class="user-avatar">
        <img src="angle_avatar.png" alt="Sarah Green">
      </div>
      <div class="user-details">
        <div class="name">Sarah Green</div>
      </div>
      <div class="score">+40</div>
    </div>

    <div class="leaderboard-item">
      <div class="rank" style="background: linear-gradient(135deg, #1e40af, #1e3a8a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">ğŸ’™</div>
      <div class="user-avatar">
        <img src="buddy_avatar.jpg" alt="Mo fatih">
      </div>
      <div class="user-details">
        <div class="name">Mike Stone</div>
      </div>
      <div class="score">+29</div>
    </div>

    <div class="leaderboard-item">
      <div class="rank" style="background: linear-gradient(135deg, #06b6d4, #0891b2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">ğŸ’™</div>
      <div class="user-avatar">
        <img src="Neighbour_1.jpg" alt="Lisa Bauer">
      </div>
      <div class="user-details">
        <div class="name">Emma Wood</div>
      </div>
      <div class="score">+22</div>
    </div>

    <h2 class="section-title" style="margin-top: 32px;">
      <span class="section-icon">ğŸ™</span>
      Help needed!
    </h2>

    <div class="reward-card" onclick="showTaskDetail('Website Design')">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #9333ea, #7e22ce);">ğŸ’»</div>
        <div class="reward-info">
          <div class="reward-title">Website Design</div>
          <div class="reward-description">Help design a website for local business</div>
        </div>
      </div>
    </div>

    <div class="reward-card" onclick="showTaskDetail('Community Garden Cleanup')">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #2563eb, #1e40af);">ğŸŒ±</div>
        <div class="reward-info">
          <div class="reward-title">Community Garden Cleanup</div>
          <div class="reward-description">Help maintain our community garden</div>
        </div>
      </div>
    </div>

    <div class="reward-card" onclick="showTaskDetail('Dog Walking')">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #10b981, #059669);">ğŸ•</div>
        <div class="reward-info">
          <div class="reward-title">Dog Walking - Afternoon Shift</div>
          <div class="reward-description">Walk friendly dogs in the afternoon</div>
        </div>
      </div>
    </div>

    <div class="reward-card" onclick="showTaskDetail('Help Moving Furniture')">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #0891b2, #0e7490);">ğŸª‘</div>
        <div class="reward-info">
          <div class="reward-title">Help Moving Furniture</div>
          <div class="reward-description">Assist with moving furniture to new apartment</div>
        </div>
      </div>
    </div>

    <div class="reward-card" onclick="showTaskDetail('Help with Taxes')">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #b45309, #92400e);">ğŸ“Š</div>
        <div class="reward-info">
          <div class="reward-title">Help with Taxes</div>
          <div class="reward-description">Assist with tax filing and documentation</div>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <button class="action-button primary-button">
        <span>ğŸ™‹</span>
        <span>Ask for Help</span>
      </button>
    </div>
  </div>

  <div id="walletView" class="content hidden">
    <div class="balance-card">
      <div class="balance-header">
        <span>ğŸ’°</span>
        <span>Total Balance</span>
      </div>
      <div class="balance-amount">42 tTons</div>
      <div class="balance-change">
        <span>ğŸ“ˆ</span>
        <span>+7 this week</span>
      </div>
    </div>

    <div class="action-buttons">
      <button id="connectWalletBtn" class="action-button secondary-button">
        <span>ğŸ’³</span>
        <span>Connect TON Wallet</span>
      </button>
      <div id="walletStatus"></div>
    </div>

    <div class="badge-section">
      <div class="badge-header">
        <div class="badge-title">Current Badge</div>
        <div class="badge-level">Neighbour</div>
      </div>
      <div class="badge-progress">
        <div class="progress-label">
          <span>Progress to Buddy</span>
          <span>4/20</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 52.5%;"></div>
        </div>
      </div>
    </div>

    <h2 class="section-title">
      <span class="section-icon">ğŸ¯</span>
      Recent Activity
    </h2>

    <div class="activity-item">
      <div class="activity-info">
        <div class="title">Grass trimming help</div>
        <div class="time">2h ago</div>
      </div>
      <div class="activity-points points-positive">+5</div>
    </div>

    <div class="activity-item">
      <div class="activity-info">
        <div class="title">Garden cleanup</div>
        <div class="time">1d ago</div>
      </div>
      <div class="activity-points points-positive">+8</div>
    </div>

    <div class="activity-item">
      <div class="activity-info">
        <div class="title">Event ticket</div>
        <div class="time">2d ago</div>
      </div>
      <div class="activity-points points-negative">-5</div>
    </div>

    <div class="activity-item">
      <div class="activity-info">
        <div class="title">Dog walking</div>
        <div class="time">3d ago</div>
      </div>
      <div class="activity-points points-positive">+1</div>
    </div>
  </div>

  <div id="rewardsView" class="content hidden">
    <div class="page-header rewards-header">
      <div class="header-overlay">
        <img src="avatar.png" alt="Neighbourly Logo" class="header-logo">
        <h1>Community Rewards</h1>
        <p>Earn and redeem your time tokens</p>
      </div>
    </div>

    <h2 class="section-title">
      <span class="section-icon">ğŸ</span>
      Available Rewards
    </h2>

    <div class="reward-card" style="position: relative;">
      <div class="reward-lock">ğŸ”’</div>
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #9333ea, #7e22ce);">ğŸ‘¥</div>
        <div class="reward-info">
          <div class="reward-title">Networking Event Access</div>
          <div class="reward-description">Join exclusive networking events with top community members</div>
          <span class="reward-requirement">Requires: Buddy</span>
        </div>
      </div>
    </div>

    <div class="reward-card">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #2563eb, #1e40af);">â­</div>
        <div class="reward-info">
          <div class="reward-title">Community Workshop Pass</div>
          <div class="reward-description">Attend skill-sharing workshops and masterclasses</div>
          <span class="reward-requirement">Requires: Neighbour</span>
        </div>
      </div>
      <button class="reward-button" onclick="claimReward('Workshop Pass')">Claim Reward</button>
    </div>

    <div class="reward-card" style="position: relative;">
      <div class="reward-lock">ğŸ”’</div>
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #0891b2, #0e7490);">ğŸ</div>
        <div class="reward-info">
          <div class="reward-title">VIP Garden Party Invite</div>
          <div class="reward-description">Get exclusive access to the annual community garden party</div>
          <span class="reward-requirement">Requires: Angel</span>
        </div>
      </div>
    </div>

    <div class="reward-card" style="position: relative;">
      <div class="reward-lock">ğŸ”’</div>
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #b45309, #92400e);">ğŸ‘¥</div>
        <div class="reward-info">
          <div class="reward-title">Monthly Community Dinner</div>
          <div class="reward-description">Free entry to monthly community dinners and socials</div>
          <span class="reward-requirement">Requires: Buddy</span>
        </div>
      </div>
    </div>

    <div class="reward-card">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #10b981, #059669);">ğŸ”„</div>
        <div class="reward-info">
          <div class="reward-title">Skill Exchange Program</div>
          <div class="reward-description">Priority access to skill exchange opportunities</div>
          <span class="reward-requirement">Requires: Neighbour</span>
        </div>
      </div>
      <button class="reward-button" onclick="claimReward('Skill Exchange')">Claim Reward</button>
    </div>
  </div>

 <div id="tasks" class="content hidden">
    <div class="page-header partners-header">
      <div class="header-overlay">
        <img src="avatar.png" alt="Neighbourly Logo" class="header-logo">
        <h1>Our Partners</h1>
        <p>Exclusive offers from local businesses</p>
      </div>
    </div>

    <h2 class="section-title">
      <span class="section-icon">ğŸ¤</span>
      Partner Rewards
    </h2>

    <div class="reward-card">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #e11d48, #be123c);">ğŸ›’</div>
        <div class="reward-info">
          <div class="reward-title">EDEKA Shopping Bonus</div>
          <div class="reward-description">Get 10% back in tTON for groceries above â‚¬50</div>
          <span class="reward-requirement">Valid until Dec 31, 2025</span>
        </div>
      </div>
      <button class="reward-button" onclick="claimReward('EDEKA Bonus')">Get Offer</button>
    </div>

    <div class="reward-card">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #f97316, #ea580c);">ï¿½</div>
        <div class="reward-info">
          <div class="reward-title">OBI Tool Rental</div>
          <div class="reward-description">Free 24h tool rental when helping neighbors with repairs</div>
          <span class="reward-requirement">3 repair tasks required</span>
        </div>
      </div>
      <button class="reward-button" onclick="claimReward('OBI Rental')">Check Eligibility</button>
    </div>

    <div class="reward-card">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">ğŸ‘¥</div>
        <div class="reward-info">
          <div class="reward-title">Invite & Earn Program</div>
          <div class="reward-description">Earn 5 tTON for each new neighbor you invite</div>
          <span class="reward-requirement">Max 10 invites/month</span>
        </div>
      </div>
      <button class="reward-button" onclick="claimReward('Invite Program')">Share Invite</button>
    </div>

    <div class="reward-card">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">ğŸ“</div>
        <div class="reward-info">
          <div class="reward-title">VHS Course Discount</div>
          <div class="reward-description">20% off on all Volkshochschule courses</div>
          <span class="reward-requirement">Buddy status required</span>
        </div>
      </div>
      <button class="reward-button" onclick="claimReward('VHS Discount')">Get Discount</button>
    </div>

    <div class="reward-card">
      <div class="reward-header">
        <div class="reward-icon" style="background: linear-gradient(135deg, #22c55e, #16a34a);">ğŸŒ³</div>
        <div class="reward-info">
          <div class="reward-title">Garden Center Partner</div>
          <div class="reward-description">15% discount at local garden centers for community projects</div>
          <span class="reward-requirement">Active gardening volunteer</span>
        </div>
      </div>
      <button class="reward-button" onclick="claimReward('Garden Discount')">View Partners</button>
    </div>
  </div>
  
  <!-- Invite Modal -->
  <div id="inviteModal" class="modal">
    <div class="modal-content">
      <div class="modal-icon">ğŸ</div>
      <div class="modal-title">Invite a Neighbour</div>
      <div class="modal-description">
        Share this link with someone who has a Neighbourly NFT badge. They'll be able to join the community!
      </div>
      <div class="invite-link" id="inviteLinkText">
        Generating link...
      </div>
      <div class="modal-buttons">
        <button class="modal-button primary" onclick="shareInviteLink()">
          Share Link
        </button>
        <button class="modal-button secondary" onclick="closeInviteModal()">
          Close
        </button>
      </div>
    </div>
  </div>

  <!-- Wallet Connection Modal -->
  <div id="walletModal" class="modal">
    <div class="modal-content">
      <div class="modal-icon">ğŸ’³</div>
      <div class="modal-title">Connect TON Wallet</div>
      <div class="modal-description">
        Choose how you want to connect your TON wallet
      </div>
      
      <div class="wallet-options">
        <div class="wallet-option" onclick="connectWalletWithSource('tonkeeper')">
          <div class="wallet-icon-box">ğŸ’</div>
          <div class="wallet-option-info">
            <div class="wallet-option-name">Tonkeeper</div>
            <div class="wallet-option-desc">Most popular TON wallet</div>
          </div>
        </div>

        <div class="wallet-option" onclick="connectWalletWithSource('tonspace')">
          <div class="wallet-icon-box">âœˆï¸</div>
          <div class="wallet-option-info">
            <div class="wallet-option-name">TON Space</div>
            <div class="wallet-option-desc">Built into Telegram</div>
          </div>
        </div>

        <div class="wallet-option" onclick="connectWalletWithSource('mytonwallet')">
          <div class="wallet-icon-box">ğŸ”·</div>
          <div class="wallet-option-info">
            <div class="wallet-option-name">MyTonWallet</div>
            <div class="wallet-option-desc">Browser extension wallet</div>
          </div>
        </div>

        <div class="wallet-option" onclick="connectDemo()">
          <div class="wallet-icon-box">ğŸ®</div>
          <div class="wallet-option-info">
            <div class="wallet-option-name">Demo Mode</div>
            <div class="wallet-option-desc">Test without real wallet</div>
          </div>
        </div>
      </div>

      <div class="modal-buttons" style="margin-top: 20px;">
        <button class="modal-button secondary" onclick="closeWalletModal()">
          Cancel
        </button>
      </div>
    </div>
  </div>

  <div class="bottom-nav">
    <button class="nav-item active" onclick="switchView('home')">
      <span class="icon">ğŸ </span>
      <span class="label">Home</span>
    </button>
    <button class="nav-item" onclick="switchView('wallet')">
      <span class="icon">ğŸ‘¤</span>
      <span class="label">profile</span>
    </button>
    <button class="nav-item" onclick="switchView('rewards')">
      <span class="icon">ğŸ</span>
      <span class="label">My Rewards</span>
    </button>
    <button class="nav-item" onclick="switchView('tasks')">
      <span class="icon">ğŸ¤</span>
      <span class="label">Partners</span>
    </button>
  </div>

  <!-- App Scripts -->
  <script src="js/wallet.js"></script>
  <script src="js/app.js"></script>
</body>
</html>